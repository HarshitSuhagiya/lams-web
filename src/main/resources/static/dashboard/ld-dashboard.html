
<div class="col-md-12 col-sm-12 col-lg-12">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
				<div class="card">
					<div class="card-header" data-background-color="purple">
						<h4 class="title">
							<b>Matched Borrowers </b>
						</h4>
						<p class="category">
							<b>List of all Borrowers who has applied for Loan</b>
						</p>
					</div>
					<div class="card-content">
						<div class="panel panel-default">
							<!-- <div class="panel-heading">
								<b>Existing Loan</b>
							</div> -->
							<div class="panel-body table-responsive">
								<table class="table">
									<thead class="text-primary">
										<tr>
											<th colspan="10"><input type="text" name="searchData"
												class="form-control" data-ng-model="searchBorrower"
												placeholder="Type anything to search Borrower"></th>
										</tr>
										<tr>
											<th>Sr No.</th>
											<th>Name</th>
											<th>Email</th>
											<th>Mobile</th>
											<th>Employment Type</th>
											<th>Action</th>
										</tr>
									</thead>
									<tbody>
										<tr
											data-ng-repeat-start="borrower in borrowers | filter : searchBorrower" class="bg-active">
											<td>{{$index + 1}}</td>
											<td>{{ (!isEmpty(borrower.firstName) &&
												!isEmpty(borrower.lastName) ? borrower.firstName + ' ' +
												borrower.lastName : borrower.firstName || Constant.NA )}}</td>
											<td>{{borrower.email}}</td>
											<td>{{borrower.mobile}}</td>
											<td>{{borrower.employmentType}}</td>
											<td><button class="btn btn-info btn-sm"
													data-ng-click="borrower.isView = !borrower.isView">View</button></td>
										</tr>
										<tr data-ng-repeat-end>
											<td colspan="6" data-ng-show="borrower.isView">
												<table class="table table-striped table-bordered">
													<thead class="text-primary">
														<tr>
															<th>Sr No.</th>
															<th>Lead Reference No.</th>
															<th>Application</th>
															<th>Amount</th>
															<th>Tenure</th>
															<th>Action</th>
														</tr>
													</thead>
													<tbody>
														<tr data-ng-repeat="app in borrower.applications">
															<td>{{$index + 1}}</td>
															<td>{{app.leadReferenceNo || Constant.NA }}</td>
															<td>{{app.applicationTypeName || Constant.NA}}</td>
															<td>{{app.loanAmount || Constant.NA}}</td>
															<td>{{app.tenure || Constant.NA}}</td>
															<td><button class="btn btn-primary btn-sm">Respond</button></td>
														</tr>
														<tr data-ng-if="isEmpty(borrower.applications)">
															<td colspan="6" class="alert alert-default text-center">No
																No Applications!</td>
														</tr>
													</tbody>
												</table>

											</td>
										</tr>
										<tr data-ng-if="isEmpty(borrowers)">
											<td colspan="10" class="alert alert-default text-center">No
												No Borrower are on the Platform!</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
